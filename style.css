/* ============================================================
   1. SETUP, VARIABILI & FONTS (Tema: "Summer Coast")
   ============================================================ */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700;800&family=Nunito+Sans:wght@400;600&display=swap');

:root {
    /* Palette: Ispirata alla costa ligure/mediterranea */
    --primary-col: #2A9D8F; /* Turchese Profondo (Mare) */
    --primary-dark: #264653; /* Blu Notte (Testi/Contrasti) */
    --accent-col:  #E76F51; /* Corallo (Tramonto/Focus) */
    --accent-soft: #F4A261; /* Sabbia Dorata (Secondario) */
    
    --bg-body:     #FDFCF8; /* Bianco Sporco/Sabbia chiarissima (Meno stancante del bianco) */
    --surface:     #FFFFFF; /* Bianco puro per le card */
    
    --text-main:   #2D3436; 
    --text-light:  #636E72;

    /* Dimensioni & Spaziature */
    --nav-height:  75px; /* Più alta per il pollice */
    --card-radius: 20px; /* Curve morbide */
    
    /* Effetti */
    --shadow-soft: 0 10px 30px -10px rgba(42, 157, 143, 0.15); /* Ombra colorata leggera */
    --glass-bg:    rgba(255, 255, 255, 0.85);
    --glass-blur:  blur(12px);
}

* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

body {
    font-family: 'Nunito Sans', sans-serif; /* Leggibilità massima per il corpo */
    background-color: var(--bg-body);
    color: var(--text-main);
    line-height: 1.6;
    touch-action: pan-x pan-y;
    overflow-x: hidden;
    height: 100%; width: 100%;
    padding-bottom: calc(var(--nav-height) + 30px); /* Spazio extra per la nav galleggiante */
}

/* Titoli in Font Montserrat per carattere */
h1, h2, h3, #view-title, .card-title-overlay {
    font-family: 'Montserrat', sans-serif;
}

/* ============================================================
   2. HEADER & NAVIGAZIONE (Stile "Resort Moderno")
   ============================================================ */

/* Header: Pulito, semitrasparente */
header, #app-header {
    background-color: var(--glass-bg);
    backdrop-filter: var(--glass-blur); /* Effetto vetro smerigliato */
    -webkit-backdrop-filter: var(--glass-blur);
    color: var(--primary-dark);
    height: 65px;
    padding: 0 25px;
    display: flex; justify-content: space-between; align-items: center;
    position: sticky; top: 0; z-index: 1000;
    border-bottom: 1px solid rgba(0,0,0,0.05);
    transition: all 0.3s ease;
}

#view-title { 
    font-size: 1.4rem; 
    font-weight: 800; 
    letter-spacing: -0.5px;
    color: var(--primary-dark);
    text-transform: lowercase; /* Tocco stilistico moderno */
}
#view-title::first-letter { text-transform: uppercase; }

header .material-icons { 
    font-size: 28px; 
    color: var(--accent-col); /* Icone color corallo */
    cursor: pointer; 
}

/* Main Content */
main, #app-content { 
    max-width: 600px; 
    margin: 0 auto; 
    padding: 25px 20px; 
}

/* Bottom Navigation: Galleggiante e stile App Nativa */
#bottom-nav, #nav-bar {
    position: fixed; bottom: 20px; left: 20px; right: 20px; /* Staccata dai bordi */
    width: auto; height: 70px;
    background-color: var(--surface);
    border-radius: 25px; /* A pillola */
    display: flex; justify-content: space-evenly; align-items: center;
    z-index: 1000;
    box-shadow: 0 15px 35px rgba(0,0,0,0.1); /* Ombra profonda per staccarla dal fondo */
    border: 1px solid rgba(255,255,255,0.5);
}

.nav-item {
    background: none; border: none; flex: 1; height: 100%;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    color: #B2BEC3; cursor: pointer; text-decoration: none;
    transition: transform 0.2s ease, color 0.2s ease;
    position: relative;
}

/* Indicatore attivo: Un pallino colorato sotto o cambio colore */
.nav-item.active { 
    color: var(--primary-col); 
    transform: translateY(-2px);
}
.nav-item.active::after {
    content: ''; position: absolute; bottom: 8px; width: 5px; height: 5px;
    background-color: var(--accent-col); border-radius: 50%;
}

.nav-item .material-icons { font-size: 26px; margin-bottom: 3px; }
.nav-label { 
    font-size: 9px; 
    font-weight: 700; 
    text-transform: uppercase; 
    letter-spacing: 0.8px; 
}

/* Loading Spinner personalizzato */
.loading-state { text-align: center; padding: 60px 20px; color: var(--text-light); }
.loader {
    font-weight: 600; color: var(--primary-col); letter-spacing: 1px;
    background: rgba(255,255,255,0.8); padding: 20px; border-radius: 50px;
    display: inline-block; box-shadow: var(--shadow-soft);
}

/* ============================================================
   7. SEZIONE MAPPE E MONUMENTI (Refined)
   ============================================================ */

/* Mappa con bordo "Cartolina" */
.map-container {
    width: 100%;
    height: calc(100vh - 200px);
    border-radius: var(--card-radius);
    overflow: hidden;
    background-color: #E0F2F1; /* Sfondo verdino chiaro mentre carica */
    position: relative;
    box-shadow: var(--shadow-soft);
    border: 4px solid var(--surface); /* Bordo bianco spesso */
}

/* Badge fluttuante sulla mappa */
.map-note {
    position: absolute;
    bottom: 20px; left: 50%; transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(4px);
    padding: 8px 20px; border-radius: 50px;
    font-size: 0.8rem; font-weight: 700; 
    color: var(--primary-dark);
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    pointer-events: none;
    letter-spacing: 0.5px;
}

/* Stili Badge Monumenti */
.monument-meta {
    display: flex; gap: 8px; margin-top: 10px; flex-wrap: wrap;
}

.meta-badge {
    font-size: 0.7rem; padding: 6px 12px; border-radius: 12px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.5px;
}

/* Colori badge ispirati alla natura */
.badge-easy { background-color: #E8F5E9; color: #2E7D32; } /* Verde vegetazione */
.badge-hard { background-color: #FFEBEE; color: #C62828; } /* Rosso sentiero */
.badge-time { background-color: #E3F2FD; color: #1565C0; } /* Azzurro cielo */

/* Card Monumento Specifica */
.card-list-item.monument-mode {
    border-left: none; /* Rimuovo il vecchio stile */
    border-bottom: 3px solid #9C27B0; /* Accento colorato sotto */
}

/* Box Curiosità */
.curiosity-box {
    background-color: #FFF8E1; /* Luce calda */
    border: none;
    border-left: 4px solid var(--accent-soft);
    padding: 15px; margin-top: 20px; border-radius: 8px;
    font-size: 0.95rem; color: #5D4037;
    font-style: italic;
}

/* ============================================================
   3. CLASSI CONDIVISE (Stile "Summer Coast")
   Coerenza con Fase 1: Ombre colorate, Font Montserrat, Niente bordi.
   ============================================================ */

/* --- A. STILE BASE DELLE CARD (Premium & Clean) --- 
   Si applica a tutte le liste */
.card-list-item, .card-product, .card-sentiero, 
.card-spiaggia, .card-transport, .card-pharmacy, .village-card {
    background-color: var(--surface) !important;
    border-radius: var(--card-radius); /* 20px come da variabili */
    box-shadow: var(--shadow-soft); /* Ombra turchese leggerissima */
    margin-bottom: 20px; /* Più respiro tra le card */
    cursor: pointer;
    transition: transform 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.25s ease;
    border: none; /* RIMOSSO il bordo grigio per pulizia */
    position: relative; /* Per gestire eventuali badge sovrapposti */
    overflow: hidden; /* Mantiene le immagini dentro le curve */
}

/* --- B. EFFETTI DI PRESSIONE (Feedback Tattile) --- */
.card-list-item:active, .card-product:active, .card-sentiero:active, 
.card-spiaggia:active, .village-card:active, 
.icon-btn:active, .page-btn:active, .action-btn:active, .filter-chip:active {
    transform: scale(0.97); /* Effetto "premuto" morbido */
    box-shadow: 0 2px 10px rgba(0,0,0,0.05); /* L'ombra si riduce quando premi */
}
.icon-btn:active { opacity: 0.7; }

/* --- C. TIPOGRAFIA TITOLI CARD (Montserrat) --- */
.item-title, .prod-title, .spiaggia-title, .transport-title, .pharmacy-name {
    font-family: 'Montserrat', sans-serif; /* Coerenza con Header */
    font-weight: 700;
    color: var(--primary-dark); /* Blu notte elegante */
    font-size: 1.15rem;
    line-height: 1.3;
    margin-bottom: 4px;
}

/* --- D. TIPOGRAFIA SOTTOTITOLI/INFO (Nunito) --- */
.item-subtitle, .spiaggia-location, .transport-desc, .pharmacy-address {
    font-family: 'Nunito Sans', sans-serif;
    font-size: 0.9rem;
    color: var(--text-light);
    font-weight: 600; /* Leggermente più marcato per leggibilità al sole */
    display: flex; align-items: center; gap: 4px; /* Per eventuali icone */
}

/* --- E. BASE DEI BOTTONI (Action & Chips) - Stile Pillola --- */
.action-btn, .btn-sentiero-small, .btn-azure, .btn-pharmacy-call, .filter-chip {
    display: inline-flex; align-items: center; justify-content: center;
    font-family: 'Montserrat', sans-serif;
    font-weight: 600; 
    text-decoration: none; 
    border-radius: 50px; /* Forme completamente arrotondate (Pillola) */
    cursor: pointer; 
    transition: all 0.2s ease;
    letter-spacing: 0.3px;
    border: none; /* Rimosso border default */
}

/* ============================================================
   4. COMPONENTI SPECIFICI (LAYOUT INTERNI & COLORI)
   ============================================================ */

/* --- HEADER BOTTONI --- */
.icon-btn {
    background: transparent; border: none; color: white; padding: 8px;
    display: flex; align-items: center; justify-content: center;
}

/* --- FILTRI (SUB-NAV & CHIPS) --- */
.sub-nav-bar, .filter-bar {
    display: flex; overflow-x: auto; padding: 15px; gap: 10px;
    background: white; -ms-overflow-style: none; scrollbar-width: none;
}
.sub-nav-bar::-webkit-scrollbar, .filter-bar::-webkit-scrollbar { display: none; }
.sub-nav-bar { border-bottom: 1px solid #eee; }

/* Pillole Filtri */
.sub-nav-item, .filter-chip {
    padding: 8px 18px; border-radius: 20px; white-space: nowrap; flex-shrink: 0;
    border: 1px solid #eee; background: var(--bg-light); color: var(--text-main); font-size: 0.9rem;
}
.sub-nav-item.active-sub, .filter-chip.active-filter {
    background-color: var(--accent-col); color: white; border-color: var(--accent-col);
}
.filter-chip.active-filter { background-color: var(--text-main); border-color: var(--text-main); }

/* --- PAGINAZIONE --- */
.pagination-container { display: flex; justify-content: center; gap: 12px; margin: 30px 0; padding: 10px; }
.page-btn {
    width: 46px; height: 46px; display: flex; align-items: center; justify-content: center;
    background: white; border: 1px solid #ccc; border-radius: 10px;
    font-size: 1rem; font-weight: bold; color: var(--text-main); box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.page-btn.active { background-color: var(--primary-col); color: white; border-color: var(--primary-col); }

/* --- CARD: BORGHI (HOME) --- */
.grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 10px 0; }
.village-card {
    height: 140px; position: relative; overflow: hidden;
    background-size: cover; background-position: center; border: none; /* Sovrascrive il border comune */
}
.card-title-overlay {
    position: absolute; bottom: 0; width: 100%;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    color: white; padding: 10px; font-weight: 700; text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

/* --- CARD: RISTORANTI & LISTE GENERICHE --- */
.card-list-item {
    display: flex; justify-content: space-between; align-items: center; gap: 15px; padding: 16px;
    /* Specifico per Numeri Utili: Bordo laterale */
    border-left: 5px solid #607d8b; 
}
/* Override per Ristoranti che non vogliono il bordo laterale grigio ma semplice */
.card-list-item.restaurant-mode { border-left: 1px solid #eee; }

.item-info { flex: 1; min-width: 0; }
.item-header-row { display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; margin-bottom: 4px; }

/* Tags (Ristorante/Comune) */
.item-tag {
    font-size: 0.7rem; background-color: #e67e22; color: white;
    padding: 4px 8px; border-radius: 6px; font-weight: 600; text-transform: uppercase; white-space: nowrap;
}

/* --- CARD: PRODOTTI (Food Blog Style) --- */
.card-product {
    display: flex; flex-direction: column; overflow: hidden; border: none; border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08); /* Ombra più forte */
}
.prod-thumb { width: 100%; height: 200px; object-fit: cover; background-color: #eee; }
.prod-info { padding: 15px; }
.prod-desc-preview { font-size: 0.9rem; color: #777; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* --- CARD: SENTIERI & SPIAGGE --- */
/* Layout interni specifici */
.card-sentiero { padding: 15px; border-left: 5px solid var(--accent-col); }
.card-spiaggia { padding: 15px; border-left: 5px solid #00bcd4; }

.sentiero-header { display: flex; justify-content: space-between; color: var(--accent-col); font-size: 0.85rem; font-weight: 700; text-transform: uppercase; margin-bottom: 8px; }
.spiaggia-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 5px; }

/* Footer specifici */
.sentiero-footer, .spiaggia-footer {
    display: flex; margin-top: 10px; padding-top: 10px; border-top: 1px solid #f0f0f0;
}
.sentiero-footer { justify-content: space-between; align-items: center; }
.spiaggia-footer { gap: 10px; }

/* Bottoni specifici Sentieri/Spiagge */
.btn-sentiero-small { padding: 5px 12px; font-size: 0.75rem; text-transform: uppercase; color: #e67e22; background-color: #fef5ed; border: 1px solid #fad7b9; }
.btn-sentiero-small:active { background-color: #e67e22; color: white; }

.btn-azure { background-color: #e0f7fa; color: #00838f; border: 1px solid #b2ebf2; padding: 6px 14px; font-size: 0.8rem; text-transform: uppercase; }
.btn-azure:active { background-color: #b2ebf2; }

/* --- CARD: TRASPORTI & FARMACIE (Layout orizzontale compatto) --- */
.card-transport, .card-pharmacy { display: flex; align-items: center; padding: 12px; }

/* Trasporti */
.transport-thumb { width: 80px; height: 80px; flex-shrink: 0; border-radius: 8px; background-color: #ddd; background-size: cover; background-position: center; margin-right: 15px; }
.transport-info, .pharmacy-info { flex: 1; }

/* Farmacie */
.card-pharmacy { padding: 15px; border-left: 6px solid #2ecc71; }
.pharmacy-icon { font-size: 1.5rem; margin-right: 15px; color: #2ecc71; }
.btn-pharmacy-call {
    background-color: #f0fdf4; color: #2ecc71; border: 1px solid #2ecc71; border-radius: 50px;
    padding: 8px 12px; font-size: 0.85rem; gap: 5px;
}
.btn-pharmacy-call:active { background-color: #2ecc71; color: white; }
/* ============================================================
   4. COMPONENTI SPECIFICI (Stile "Summer Coast")
   Colori: Turchese (Mare), Corallo (Attività), Sabbia (Cibo)
   ============================================================ */

/* --- HEADER BOTTONI --- */
.icon-btn {
    background: rgba(255,255,255,0.2); /* Sottile trasparenza */
    border: none; color: var(--primary-dark); padding: 8px;
    border-radius: 50%; /* Tondi perfetti */
    display: flex; align-items: center; justify-content: center;
    transition: background 0.3s;
}

/* --- FILTRI (SUB-NAV & CHIPS) --- */
.sub-nav-bar, .filter-bar {
    display: flex; overflow-x: auto; padding: 15px 5px; gap: 10px;
    background: transparent; 
    -ms-overflow-style: none; scrollbar-width: none;
    /* Maschera per sfumare i lati se si scorre (optional avanzato, teniamo semplice) */
}
.sub-nav-bar::-webkit-scrollbar, .filter-bar::-webkit-scrollbar { display: none; }
.sub-nav-bar { border-bottom: none; /* Rimosso bordo rigido */ }

/* Pillole Filtri "Galleggianti" */
.sub-nav-item, .filter-chip {
    padding: 10px 20px; 
    border-radius: 50px; /* Pillola */
    white-space: nowrap; flex-shrink: 0;
    border: 1px solid transparent; 
    background: var(--surface); 
    color: var(--text-light); 
    font-size: 0.85rem; font-weight: 600;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05); /* Leggera ombra */
}

/* Stato Attivo (Turchese) */
.sub-nav-item.active-sub, .filter-chip.active-filter {
    background-color: var(--primary-col); 
    color: white; 
    box-shadow: 0 4px 12px rgba(42, 157, 143, 0.4); /* Glow colorato */
    transform: translateY(-1px);
}

/* --- PAGINAZIONE --- */
.pagination-container { display: flex; justify-content: center; gap: 12px; margin: 30px 0; padding: 10px; }
.page-btn {
    width: 44px; height: 44px; display: flex; align-items: center; justify-content: center;
    background: white; border: none; border-radius: 14px;
    font-size: 1rem; font-weight: 700; color: var(--primary-dark); 
    box-shadow: var(--shadow-soft);
}
.page-btn.active { 
    background-color: var(--primary-col); color: white; 
    box-shadow: 0 4px 10px rgba(42, 157, 143, 0.4);
}

/* --- CARD: BORGHI (HOME) --- */
.grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 10px 0; }

.village-card {
    height: 160px; position: relative; overflow: hidden;
    background-size: cover; background-position: center; 
    border: none;
    /* Ombra interna leggera per staccare dal fondo bianco */
    box-shadow: 0 8px 20px rgba(0,0,0,0.1); 
}

.card-title-overlay {
    position: absolute; bottom: 0; width: 100%;
    /* Gradiente Blu Notte elegante invece del nero */
    background: linear-gradient(to top, rgba(38, 70, 83, 0.85), transparent);
    color: white; padding: 15px; 
    font-size: 1rem; font-weight: 700; letter-spacing: 0.5px;
}

/* --- CARD: RISTORANTI & GENERICHE --- */
.card-list-item {
    display: flex; justify-content: space-between; align-items: center; gap: 15px; padding: 20px;
    border-left: none; /* Rimosso bordo laterale vecchio */
}

/* Specifico Numeri Utili: Icona o bordo soft */
.card-list-item.restaurant-mode { border-left: none; }

.item-info { flex: 1; min-width: 0; }
.item-header-row { display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; margin-bottom: 6px; }

/* Tags (Ristorante/Comune) - Colore Sabbia/Oro */
.item-tag {
    font-size: 0.65rem; 
    background-color: var(--accent-soft); /* Sabbia */
    color: white;
    padding: 5px 10px; border-radius: 8px; font-weight: 700; 
    text-transform: uppercase; white-space: nowrap;
}

/* --- CARD: PRODOTTI (Food) --- */
.card-product {
    display: flex; flex-direction: column; overflow: hidden; border: none;
    box-shadow: var(--shadow-soft);
}
.prod-thumb { width: 100%; height: 200px; object-fit: cover; background-color: #eee; }
.prod-info { padding: 20px; }

/* --- CARD: SENTIERI (Outdoor) & SPIAGGE (Mare) --- */
/* Layout interni - Rimosso border-left, usiamo i colori dei testi/bottoni */
.card-sentiero, .card-spiaggia { padding: 20px; border-left: none; }

.sentiero-header { 
    display: flex; justify-content: space-between; 
    color: var(--accent-col); /* Corallo per attività fisiche */
    font-size: 0.8rem; font-weight: 800; text-transform: uppercase; margin-bottom: 10px; letter-spacing: 1px;
}
.spiaggia-header { 
    display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 5px; 
}
/* Icona spiaggia grande */
.spiaggia-header span { font-size: 1.4rem; } 

/* Footer specifici */
.sentiero-footer, .spiaggia-footer {
    display: flex; margin-top: 15px; padding-top: 15px; 
    border-top: 1px dashed rgba(0,0,0,0.05); /* Linea tratteggiata leggera */
}
.sentiero-footer { justify-content: space-between; align-items: center; }
.spiaggia-footer { gap: 10px; }

/* Bottoni specifici */
/* Sentieri: Corallo (Terra) */
.btn-sentiero-small { 
    padding: 8px 16px; font-size: 0.75rem; text-transform: uppercase; 
    color: var(--accent-col); background-color: #FFF3E0; /* Corallo chiaro */
}
.btn-sentiero-small:active { background-color: var(--accent-col); color: white; }

/* Spiagge: Turchese (Mare) */
.btn-azure { 
    padding: 8px 16px; font-size: 0.75rem; text-transform: uppercase;
    background-color: #E0F2F1; color: var(--primary-col); 
}
.btn-azure:active { background-color: var(--primary-col); color: white; }

/* --- CARD: TRASPORTI & FARMACIE --- */
.card-transport, .card-pharmacy { display: flex; align-items: center; padding: 15px; }

/* Trasporti */
.transport-thumb { 
    width: 70px; height: 70px; flex-shrink: 0; 
    border-radius: 16px; /* Quadrato arrotondato */
    background-color: #ECEFF1; 
    background-size: cover; background-position: center; margin-right: 20px; 
}
.transport-info, .pharmacy-info { flex: 1; }

/* Farmacie - Verde medico (lasciamo verde per convenzione, ma morbido) */
.card-pharmacy { border-left: none; } /* Rimosso bordo verde */
.pharmacy-icon { font-size: 1.8rem; margin-right: 20px; color: #2ECC71; }

.btn-pharmacy-call {
    background-color: #E8F5E9; color: #27AE60; 
    border-radius: 50px; padding: 8px 16px; font-size: 0.85rem; gap: 6px; border: none;
}
/* ============================================================
   5. BOTTONI AZIONE GENERALI (Chiama, Mappa)
   Stile: Pillole pastello senza bordi
   ============================================================ */
.card-actions { 
    display: flex; gap: 12px; 
    margin-top: 15px; padding-top: 15px; 
    border-top: 2px dashed rgba(0,0,0,0.05); /* Separatore leggero tratteggiato */
    width: 100%; 
}

.action-btn { 
    flex: 1; 
    padding: 10px 12px; 
    font-size: 0.85rem; 
    gap: 8px; 
    border-radius: 50px; /* Pillola completa */
    border: none; /* Via i bordi */
    font-weight: 700;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* Colori specifici (Pastello saturo) */
.btn-phone { 
    background-color: #E0F2F1; /* Verde Acqua chiarissimo */
    color: #00695C; /* Verde profondo */
}
.btn-phone:active { background-color: #B2DFDB; }

.btn-map { 
    background-color: #E3F2FD; /* Azzurro cielo */
    color: #1565C0; /* Blu */
}
.btn-map:active { background-color: #BBDEFB; }

/* ============================================================
   6. MODALI (POPUP) - Effetto "Summer Glass"
   ============================================================ */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    /* Sfondo Blu Notte semitrasparente */
    background: rgba(38, 70, 83, 0.4); 
    /* Effetto sfocatura (Vetro smerigliato) */
    backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
    z-index: 2000;
    display: flex; justify-content: center; align-items: center; padding: 20px;
    opacity: 0; animation: fadeIn 0.3s forwards;
}

.modal-content {
    background: var(--surface); 
    padding: 0; /* Padding rimosso per far toccare le immagini ai bordi */
    border-radius: 25px; /* Curve ampie */
    width: 100%; max-width: 450px;
    max-height: 85vh; overflow-y: auto; 
    position: relative; 
    /* Ombra profonda per staccarlo dallo sfondo sfocato */
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

/* Immagini dentro il modale (se presenti) vanno a filo */
.modal-content img {
    border-radius: 0; /* Rimuove raggio interno */
    width: 100%; display: block;
}

/* Testi dentro il modale */
.modal-content h2 { 
    padding: 25px 25px 5px 25px; 
    font-family: 'Montserrat', sans-serif; 
    color: var(--primary-dark);
    font-size: 1.5rem;
}
.modal-content p { 
    padding: 0 25px 25px 25px; 
    color: var(--text-light); 
    line-height: 1.7;
}

/* Bottone Chiudi Galleggiante */
.close-modal { 
    position: absolute; top: 15px; right: 15px; 
    width: 40px; height: 40px;
    background: white; 
    color: var(--text-main);
    border-radius: 50%; /* Cerchio perfetto */
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; border: none;
    font-size: 1.5rem; font-weight: 300;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15); /* Ombra per farlo galleggiare sopra la foto */
    z-index: 10;
}

@keyframes fadeIn { to { opacity: 1; } }

/* Utility: Nascondi frecce liste (Pulizia visiva) */
.prod-arrow, .item-arrow { display: none !important; }