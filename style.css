/* ============================================================
   PARTE 1: FONDAMENTA, COLORI E STRUTTURA (Header)
   ============================================================ */

/* 1. VARIABILI GLOBALI (Il "Cervello" dei colori) */
:root {
    --primary-col: #e67e22;  /* Verde scuro 5 Terre */
    --accent-col:  #e67e22;  /* Arancione vivo per azioni/active */
    --bg-light:    #f8f9fa;  /* Sfondo grigio chiarissimo */
    --text-main:   #333333;  /* Testo scuro */
    --nav-height:  70px;     /* Altezza riservata al menu in basso */
}

/* 2. RESET (Pulizia) */
* {
    box-sizing: border-box; /* Misure precise bordi inclusi */
    margin: 0;
    padding: 0;
    -webkit-tap-highlight-color: transparent; /* No flash blu su mobile */
}

/* 3. CORPO DELLA PAGINA */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-light);
    color: var(--text-main);
    line-height: 1.5;
    
    /* Riserviamo spazio in basso affinché il contenuto non finisca sotto il menu (che faremo nella Parte 2) */
    padding-bottom: calc(var(--nav-height) + 20px);
}

/* 4. HEADER FISSO (Barra in alto) */
header, #app-header {
    background-color: var(--primary-col);
    color: #f8f9fa;
    height: 60px;
    padding: 0 20px;
    
    /* Flexbox per allineare Titolo a SX e Menu a DX */
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    /* Blocca la barra in alto quando scorri */
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

#view-title {
    font-size: 1.3rem;
    font-weight: 700;
    letter-spacing: 0.5px;
}

header .material-icons {
    font-size: 28px;
    cursor: pointer;
}

/* 5. CONTENITORE CENTRALE (Main) */
main, #app-content {
    max-width: 600px; /* Larghezza ottimale per lettura su tablet/desktop */
    margin: 0 auto;   /* Centra il blocco nella pagina */
    padding: 20px;
}

/* Animazione di caricamento (Base) */
.loading-state {
    text-align: center;
    padding: 50px;
    color: #888;
}
.spin {
    display: inline-block;
    animation: rotation 1s infinite linear;
    font-size: 2.5rem;
    margin-bottom: 10px;
}
@keyframes rotation { from { transform: rotate(0deg); } to { transform: rotate(359deg); } }/* ============================================================
   PARTE 2: NAVIGAZIONE, CONTROLLI E PAGINAZIONE
   (Qui risolviamo il problema dei pulsanti verticali)
   ============================================================ */

/* 1. MENU DI NAVIGAZIONE IN BASSO (Fix Icone) */
#bottom-nav, #nav-bar {
    position: fixed;        /* Lo blocca in basso */
    bottom: 0;
    left: 0;
    width: 100%;
    height: var(--nav-height);
    background-color: white;
    border-top: 1px solid #e0e0e0;
    
    /* LA MAGIA: Flexbox mette tutto in riga orizzontale */
    display: flex;
    flex-direction: row; 
    justify-content: space-around; /* Distribuisce lo spazio equamente */
    align-items: center;
    
    z-index: 1000; /* Sta sopra a tutto */
    box-shadow: 0 -4px 10px rgba(0,0,0,0.05);
}

/* Stile del singolo tasto del menu */
.nav-item {
    background: none;
    border: none;
    flex: 1;              /* Occupa tutto lo spazio disponibile */
    display: flex;
    flex-direction: column; /* Icona sopra, testo sotto */
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #999;          /* Colore spento quando non attivo */
    cursor: pointer;
    text-decoration: none;
}

/* Quando il tasto è attivo (es. sei sulla Home) */
.nav-item.active {
    color: var(--accent-col); /* Diventa Arancione */
    font-weight: 600;
}

.nav-item .material-icons {
    font-size: 24px;
    margin-bottom: 4px;
}

.nav-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* 2. BARRA DEI FILTRI (Sotto l'header) */
.sub-nav-bar {
    display: flex;        /* Mette i bottoni in riga */
    overflow-x: auto;     /* Permette di scorrere col dito se non ci stanno */
    padding: 15px;
    gap: 10px;            /* Spazio tra le pillole */
    background: white;
    border-bottom: 1px solid #eee;
    
    /* Nasconde la barra di scorrimento brutta */
    -ms-overflow-style: none;  
    scrollbar-width: none;  
}
.sub-nav-bar::-webkit-scrollbar { display: none; }

.sub-nav-item {
    padding: 8px 18px;
    border-radius: 20px;  /* Forma a pillola */
    border: 1px solid #eee;
    background: var(--bg-light);
    color: var(--text-main);
    font-size: 0.9rem;
    white-space: nowrap;  /* Il testo non va a capo */
    flex-shrink: 0;       /* Non si schiaccia */
}

.sub-nav-item.active-sub {
    background-color: var(--accent-col);
    color: white;
    border-color: var(--accent-col);
}

/* 3. PAGINAZIONE (La soluzione al tuo problema principale) */
.pagination-container, #pagination-controls {
    display: flex;             /* Mette i numeri in orizzontale */
    justify-content: center;   /* Li centra nella pagina */
    align-items: center;
    gap: 12px;                 /* Spazio comodo tra i pulsanti */
    margin: 30px 0;            /* Spazio sopra e sotto */
    padding: 10px;
}

/* Il design del pulsante pagina */
.page-btn {
    width: 46px;              /* Larghezza fissa GRANDE */
    height: 46px;             /* Altezza fissa GRANDE */
    
    display: flex;
    align-items: center;
    justify-content: center;
    
    background-color: white;
    border: 1px solid #ccc;
    border-radius: 10px;      /* Angoli smussati */
    font-size: 1rem;
    font-weight: bold;
    color: var(--text-main);
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    transition: transform 0.1s;
}

.page-btn:active { transform: scale(0.95); } /* Effetto pressione */

.page-btn.active {
    background-color: var(--primary-col); /* Verde se selezionato */
    color: white;
    border-color: var(--primary-col);
}/* ============================================================
   PARTE 3: CARD, GRIGLIE E CONTENUTI
   (Qui rendiamo belle le immagini e le liste)
   ============================================================ */

/* 1. GRIGLIA BORGHI (Home Page) */
.grid-container {
    display: grid;
    /* Due colonne di larghezza uguale */
    grid-template-columns: 1fr 1fr; 
    gap: 15px;             /* Spazio tra le card */
    padding: 10px 0;
}

.village-card {
    position: relative;    /* Necessario per posizionare il titolo sopra */
    height: 140px;
    border-radius: 12px;   /* Angoli arrotondati moderni */
    background-size: cover;
    background-position: center;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.2s;
}

.village-card:active { transform: scale(0.98); }

.card-title-overlay {
    position: absolute;
    bottom: 0;
    width: 100%;
    /* Sfumatura nera per rendere leggibile il testo bianco */
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    color: white;
    padding: 10px;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}
CSS
/* ============================================================
   2. CARD COMPACT (Stile Prodotti & Ristoranti)
   Layout: Testo a Sinistra + Immagine Quadrata a Destra
   ============================================================ */

/* 1. CONTENITORE PRINCIPALE - RISTORANTI (Sfondo Bianco e Layout) */
.card-list-item {
    background-color: white !important; /* !important forza il bianco */
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 12px;
    
    /* Bordo e Ombra per staccarlo dallo sfondo grigio */
    border: 1px solid #e0e0e0;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    
    /* Layout Flessibile: Contenuto a SX | Immagine/Freccia a DX */
    display: flex;
    justify-content: space-between;
    align-items: center; /* Centra verticalmente */
    gap: 15px;           /* Spazio tra testo e immagine */
    
    cursor: pointer;
    transition: transform 0.2s;
    }

.card-list-item:active { transform: scale(0.98); }

/* 1.2: AREA TESTO (Sinistra) */
.item-info {
    flex: 1; /* Prende tutto lo spazio disponibile */
    min-width: 0; /* Evita che il testo rompa il layout */
}

/* Riga Intestazione: Titolo + Badge sulla stessa linea */
.item-header-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 4px;
}

.item-title {
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--text-main);
    line-height: 1.2;
}

/* Badge (Tipo Ristorante) */
.item-tag {
    font-size: 0.7rem;
    background-color: #e67e22;
    color: white;
    padding: 4px 8px;
    border-radius: 6px;
    font-weight: 600;
    text-transform: uppercase;
    white-space: nowrap;
    flex-shrink: 0;
}

.item-subtitle {
    font-size: 0.9rem;
    color: #666;
}
/* ============================================================
   BOTTONI AZIONE DENTRO LA CARD (Chiama / Mappa)
   ============================================================ */

/* Contenitore dei bottoni (sotto l'indirizzo) */
.card-actions {
    display: flex;
    gap: 10px;
    margin-top: 12px;
}

/* Stile base del bottone azione */
.action-btn {
    flex: 1; /* Si dividono lo spazio in parti uguali */
    padding: 8px 12px;
    border-radius: 8px;
    text-decoration: none;
    font-size: 0.8rem;
    font-weight: 700;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px; /* Spazio tra icona e testo */
    transition: transform 0.1s, opacity 0.2s;
}

.action-btn:active {
    transform: scale(0.95);
}

/* Bottone Chiama (Verde Chiaro) */
.btn-phone {
    background-color: #e8f5e9;
    color: #2e7d32; /* Verde scuro */
    border: 1px solid #c8e6c9;
}

/* Bottone Mappa (Azzurro Chiaro) */
.btn-map {
    background-color: #e3f2fd;
    color: #1565c0; /* Blu scuro */
    border: 1px solid #bbdefb;
}

/* Icone dentro i bottoni (opzionale, se usi testo semplice va bene uguale) */
.btn-icon { font-size: 1rem; }
/* 2. CONTENITORE PRINCIPALE - PRODOTTI */
/* ============================================================
   NUOVO STILE PRODOTTI "FOOD BLOG" (Immagine Grande)
   ============================================================ */

.card-product {
    background: white;
    border-radius: 16px;       /* Angoli più arrotondati */
    margin-bottom: 20px;       /* Più spazio tra un piatto e l'altro */
    box-shadow: 0 4px 15px rgba(0,0,0,0.08); /* Ombra morbida ed elegante */
    overflow: hidden;          /* Assicura che l'immagine rispetti i bordi */
    border: none;              /* Via il bordo grigio, usiamo l'ombra */
    
    /* Layout Verticale (Foto sopra, testo sotto) */
    display: flex;
    flex-direction: column;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

.card-product:active {
    transform: scale(0.98);
}

/* L'immagine a piena larghezza */
.prod-thumb {
    width: 100%;              /* Occupa tutto lo spazio orizzontale */
    height: 200px;            /* Altezza fissa importante per evitare scatti */
    object-fit: cover;        /* Taglia l'immagine per riempire senza deformare */
    display: block;
    background-color: #eee;   /* Colore di sfondo mentre carica */
}

/* Contenitore del testo (sotto la foto) */
.prod-info {
    padding: 15px;            /* Spazio interno per il testo */
    background: white;
}

.prod-title {
    font-size: 1.2rem;        /* Titolo più grande */
    font-weight: 700;
    color: #333;
    margin-bottom: 4px;
}

/* Descrizione opzionale sotto il titolo (se presente) */
.prod-desc-preview {
    font-size: 0.9rem;
    color: #777;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;  /* Mette i puntini ... se il testo è lungo */
}
/* 3. CARD SENTIERI E OUTDOOR */
.card-sentiero {
    background: white;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    border-left: 5px solid var(--accent-col); /* Striscia colorata a sinistra */
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.sentiero-header {
    display: flex;
    justify-content: space-between;
    color: var(--accent-col);
    font-size: 0.85rem;
    font-weight: 700;
    margin-bottom: 8px;
    text-transform: uppercase;
} /* 4. CARD SPIAGGE (Stile Sentieri - Variante Azzurra) */
.card-spiaggia {
    background: white;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    /* Bordo sinistro AZZURRO MARE per distinguerlo dai sentieri */
    border-left: 5px solid #00bcd4; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    transition: transform 0.2s;
}

.card-spiaggia:active {
    transform: scale(0.98);
}

.spiaggia-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 5px;
}

.spiaggia-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #333;
    line-height: 1.2;
}

.spiaggia-location {
    font-size: 0.85rem;
    color: #666; /* Grigio scuro */
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 4px;
}

.spiaggia-footer {
    display: flex;
    gap: 10px;
    padding-top: 10px;
    border-top: 1px solid #f5f5f5; /* Separatore leggerissimo */
}

/* Bottone specifico Azzurro (simile a btn-yellow ma tema mare) */
.btn-azure {
    background-color: #e0f7fa; /* Azzurro chiarissimo */
    color: #00838f;            /* Testo Petrolio */
    border: 1px solid #b2ebf2;
    padding: 6px 14px;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 700;
    text-decoration: none;
    text-transform: uppercase;
    cursor: pointer;
    text-align: center;
}

.btn-azure:active {
    background-color: #b2ebf2;
}
/* --- STILE SPECIFICO TRASPORTI (Foto piccola a sinistra) --- */
.card-transport {
    display: flex;              /* Mette tutto in riga orizzontale */
    align-items: center;        /* Centra verticalmente */
    background: white;
    padding: 12px;
    margin-bottom: 12px;
    border-radius: 12px;
    border: 1px solid #eee;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

/* Il contenitore della foto quadrata */
.transport-thumb {
    width: 80px;               /* Larghezza fissa */
    height: 80px;              /* Altezza fissa */
    flex-shrink: 0;            /* Impedisce che si schiacci */
    border-radius: 8px;
    background-color: #ddd;    /* Grigio se manca la foto */
    background-size: cover;    /* L'immagine riempie il quadrato */
    background-position: center;
    margin-right: 15px;        /* Spazio tra foto e testo */
}

.transport-info {
    flex: 1;                   /* Occupa tutto lo spazio rimanente */
}

.transport-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #333;
    margin-bottom: 5px;
}

.transport-desc {
    font-size: 0.9rem;
    color: #666;
    line-height: 1.3;
} 
/* ============================================================
   STILE NUMERI UTILI / GUARDIA MEDICA
   (Collega il tuo Renderer al Design)
   ============================================================ */

/* 1. La Scheda (Contenitore) */
.card-list-item {
    background: white;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
    
    /* Bordo laterale Blue Grey (lo stesso del tag Comune) */
    border-left: 5px solid #607d8b; 
    
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    border: 1px solid #eee;
    transition: transform 0.2s;
}

.card-list-item:active {
    transform: scale(0.98);
}

/* 2. Intestazione */
.item-info { width: 100%; }

.item-header-row {
    display: flex;
    justify-content: space-between;
    align-items: center; /* Allinea verticalmente tag e titolo */
    margin-bottom: 8px;
}

.item-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #333;
}

/* Il tag del comune ha già lo stile inline nel JS, 
   qui rifiniamo solo il testo per sicurezza */
.item-tag {
    color: white;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    white-space: nowrap;
}

/* 3. Sottotitolo (Copertura) */
.item-subtitle {
    font-size: 0.95rem;
    line-height: 1.4;
    color: #555;
}

/* 4. Footer (Area Azione) - Crea l'effetto "Spiaggia" */
.card-actions {
    margin-top: 12px;
    padding-top: 12px;
    /* La riga grigia sottile che separa il bottone */
    border-top: 1px solid #f5f5f5; 
    display: flex;
    justify-content: center;
}

/* 5. Il Bottone Chiama (Verde e Largo) */
.btn-phone {
    width: 100%; /* Occupa tutto lo spazio disponibile */
    
    display: flex;
    justify-content: center;
    align-items: center;
    
    background-color: #e8f5e9; /* Verde chiarissimo */
    color: #2e7d32;            /* Verde scuro */
    border: 1px solid #c8e6c9;
    
    padding: 10px 0;
    border-radius: 8px;
    
    font-weight: 700;
    font-size: 0.9rem;
    text-transform: uppercase;
    text-decoration: none;
}

.btn-phone:active {
    background-color: #c8e6c9;
}
/* --- STILE FARMACIE --- */
.card-pharmacy {
    display: flex;
    align-items: center;        /* Centra verticalmente */
    background: white;
    padding: 15px;
    margin-bottom: 12px;
    border-radius: 12px;
    border-left: 6px solid #2ecc71; /* Bordo VERDE caratteristico */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.pharmacy-icon {
    font-size: 1.5rem;
    margin-right: 15px;
    color: #2ecc71;             /* Croce verde */
}

.pharmacy-info {
    flex: 1;                    /* Prende tutto lo spazio centrale */
}

.pharmacy-name {
    font-weight: 700;
    color: #333;
    font-size: 1.05rem;
    margin-bottom: 3px;
}

.pharmacy-address {
    font-size: 0.85rem;
    color: #666;
}

/* Tasto Chiama Rotondo o Compatto */
.btn-pharmacy-call {
    background-color: #f0fdf4;  /* Verde chiarissimo */
    color: #2ecc71;             /* Testo Verde */
    border: 1px solid #2ecc71;
    border-radius: 50px;
    padding: 8px 12px;
    font-size: 0.85rem;
    font-weight: bold;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: background 0.2s;
}

.btn-pharmacy-call:active {
    background-color: #2ecc71;
    color: white;
}
/* 5. MODALI (Finestre Popup) */
.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); /* Sfondo nero semitrasparente */
    z-index: 2000;         /* Sopra a tutto, anche all'header */
    
    display: flex;         /* Centra il contenuto */
    justify-content: center;
    align-items: center;
    padding: 20px;
    
    /* Animazione comparsa */
    opacity: 0;
    animation: fadeIn 0.3s forwards;
}

.modal-content {
    background: white;
    padding: 25px;
    border-radius: 16px;
    width: 100%;
    max-width: 450px;
    max-height: 85vh;      /* Non più alto dell'85% dello schermo */
    overflow-y: auto;      /* Scorre se il contenuto è lungo */
    position: relative;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

/* Tasto chiudi modale (X in alto a destra) */
.close-modal {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 1.5rem;
    color: #999;
    cursor: pointer;
    background: none;
    border: none;
}
/* 5. CHIPS DI FILTRAGGIO */
/* ============================================================
   NUOVA SEZIONE: FILTRI DINAMICI (Chips)
   ============================================================ */

/* Il contenitore che tiene i bottoni in riga */
.filter-bar {
    display: flex;
    gap: 8px;
    padding: 10px 5px; /* Un po' di padding laterale */
    margin-bottom: 15px;
    overflow-x: auto; /* Permette di scorrere col dito se i filtri sono tanti */
    
    /* Nascondi barra scorrimento brutta */
    -ms-overflow-style: none;  
    scrollbar-width: none; 
}
.filter-bar::-webkit-scrollbar { display: none; }

/* Il singolo bottone filtro (Chip) */
.filter-chip {
    padding: 8px 16px;
    border-radius: 20px;       /* Molto rotondo */
    border: 1px solid #e0e0e0;
    background: white;
    color: var(--text-main);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;       /* Il testo non va mai a capo */
    transition: all 0.2s ease;
    flex-shrink: 0;            /* Impedisce al bottone di schiacciarsi */
}

/* Quando il filtro è selezionato */
.filter-chip.active-filter {
    background-color: var(--text-main); /* Diventa scuro (o usa --primary-col se preferisci) */
    color: white;
    border-color: var(--text-main);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

@keyframes fadeIn { to { opacity: 1; } }

/* Nasconde la freccia nei Prodotti e nei Ristoranti */
.prod-arrow, .item-arrow {
    display: none !important;
}